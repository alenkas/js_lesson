<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Ajax Request</title>
</head>
<body>
	<ul class="list">
	</ul>
</body>
<script>
(function() {
	var data;
	var list = document.getElementsByClassName('list')[0];
    var xhr = new XMLHttpRequest();

    xhr.open('GET', 'https://dl.dropboxusercontent.com/u/53408179/phones.json', true);

    xhr.send();

    xhr.onreadystatechange = function() {
        if (xhr.readyState != 4) return;

        if (xhr.status != 200) {
            console.log(xhr.status + ": " + xhr.statusText);
        } else {
            console.log(xhr.responseText);
            data = JSON.parse(xhr.responseText);
            console.log(data);
            getPhoneNames(data, list);
        }
    }

    function getPhoneNames(data, element){
    	for(var i = 0; i < data.length; i++){
    		var list_element = document.createElement("li");
    		list_element.innerText = data[i].name;
    		element.appendChild(list_element);
    	}
    }


})();
</script>

</html>
